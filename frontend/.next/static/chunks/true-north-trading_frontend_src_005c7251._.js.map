{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/MikeyW/true-north-trading/frontend/src/lib/useStreamingAnalysis.ts"],"sourcesContent":["/**\n * React hook for consuming Server-Sent Events (SSE) from backend streaming endpoints\n */\n\nimport { useState, useEffect, useCallback } from \"react\";\n\ninterface StreamEvent {\n  event: string;\n  agent?: string;\n  chunk?: string;\n  progress?: number;\n  [key: string]: any;\n}\n\ninterface AgentText {\n  agent: string;\n  text: string;\n  isComplete: boolean;\n}\n\ninterface UseStreamingOptions {\n  onEvent?: (event: StreamEvent) => void;\n  onComplete?: (finalData: any) => void;\n  onError?: (error: string) => void;\n}\n\nexport function useStreamingAnalysis(\n  url: string | null,\n  options: UseStreamingOptions = {}\n) {\n  const [isStreaming, setIsStreaming] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [currentAgent, setCurrentAgent] = useState<string | null>(null);\n  const [events, setEvents] = useState<StreamEvent[]>([]);\n  const [error, setError] = useState<string | null>(null);\n  const [finalData, setFinalData] = useState<any>(null);\n  const [agentTexts, setAgentTexts] = useState<Record<string, AgentText>>({});\n  const [synthesisText, setSynthesisText] = useState<string>(\"\");\n\n  useEffect(() => {\n    if (!url) return;\n\n    let eventSource: EventSource | null = null;\n\n    const startStream = () => {\n      setIsStreaming(true);\n      setProgress(0);\n      setCurrentAgent(null);\n      setEvents([]);\n      setError(null);\n      setFinalData(null);\n      setAgentTexts({});\n      setSynthesisText(\"\");\n\n      const apiUrl = `${\n        process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8002\"\n      }${url}`;\n      eventSource = new EventSource(apiUrl);\n\n      eventSource.onmessage = (event) => {\n        try {\n          const data: StreamEvent = JSON.parse(event.data);\n\n          // Update events list\n          setEvents((prev) => [...prev, data]);\n\n          // Call custom event handler\n          options.onEvent?.(data);\n\n          // Handle specific event types\n          switch (data.event) {\n            case \"start\":\n              setProgress(0);\n              setCurrentAgent(null);\n              break;\n\n            case \"agent_start\":\n              setCurrentAgent(data.agent);\n              setProgress(data.progress || 0);\n              break;\n\n            case \"agent_text_start\":\n              if (data.agent) {\n                setAgentTexts((prev) => ({\n                  ...prev,\n                  [data.agent!]: {\n                    agent: data.agent!,\n                    text: \"\",\n                    isComplete: false,\n                  },\n                }));\n              }\n              break;\n\n            case \"agent_text_chunk\":\n              if (data.agent && data.chunk) {\n                setAgentTexts((prev) => ({\n                  ...prev,\n                  [data.agent!]: {\n                    agent: data.agent!,\n                    text: (prev[data.agent!]?.text || \"\") + data.chunk,\n                    isComplete: false,\n                  },\n                }));\n\n                // If it's synthesis, also update synthesis text\n                if (data.agent === \"Investment Synthesizer\") {\n                  setSynthesisText((prev) => prev + data.chunk);\n                }\n              }\n              break;\n\n            case \"agent_text_complete\":\n              if (data.agent) {\n                setAgentTexts((prev) => ({\n                  ...prev,\n                  [data.agent!]: {\n                    ...prev[data.agent!],\n                    isComplete: true,\n                  },\n                }));\n              }\n              break;\n\n            case \"agent_complete\":\n              setProgress(data.progress || 0);\n              break;\n\n            case \"synthesis_start\":\n              setCurrentAgent(\"Synthesis\");\n              setProgress(90);\n              setSynthesisText(\"\");\n              break;\n\n            case \"done\":\n              setProgress(100);\n              setFinalData(data);\n              setIsStreaming(false);\n              options.onComplete?.(data);\n              eventSource?.close();\n              break;\n\n            case \"error\":\n              setError(data.message || \"Unknown error occurred\");\n              setIsStreaming(false);\n              options.onError?.(data.message || \"Unknown error\");\n              eventSource?.close();\n              break;\n          }\n        } catch (err) {\n          console.error(\"Error parsing SSE event:\", err);\n        }\n      };\n\n      eventSource.onerror = (err) => {\n        console.error(\"EventSource error:\", err);\n        setError(\"Connection error. Please try again.\");\n        setIsStreaming(false);\n        options.onError?.(\"Connection error\");\n        eventSource?.close();\n      };\n    };\n\n    startStream();\n\n    // Cleanup\n    return () => {\n      eventSource?.close();\n      setIsStreaming(false);\n    };\n  }, [url]);\n\n  const reset = useCallback(() => {\n    setIsStreaming(false);\n    setProgress(0);\n    setCurrentAgent(null);\n    setEvents([]);\n    setError(null);\n    setFinalData(null);\n    setAgentTexts({});\n    setSynthesisText(\"\");\n  }, []);\n\n  return {\n    isStreaming,\n    progress,\n    currentAgent,\n    events,\n    error,\n    finalData,\n    agentTexts,\n    synthesisText,\n    reset,\n  };\n}\n\n/**\n * Hook for streaming stock analysis (progress only)\n */\nexport function useStockAnalysisStream(symbol: string | null) {\n  const url = symbol ? `/api/analyze-stock-stream/${symbol}` : null;\n  return useStreamingAnalysis(url);\n}\n\n/**\n * Hook for streaming stock analysis WITH TEXT (like ChatGPT)\n */\nexport function useStockAnalysisStreamText(symbol: string | null) {\n  const url = symbol ? `/api/analyze-stock-stream-text/${symbol}` : null;\n  return useStreamingAnalysis(url);\n}\n\n/**\n * Hook for streaming market regime analysis\n */\nexport function useMarketRegimeStream(trigger: boolean) {\n  const url = trigger ? \"/api/market-regime-stream\" : null;\n  return useStreamingAnalysis(url);\n}\n\n/**\n * Hook for streaming portfolio analysis\n */\nexport function usePortfolioAnalysisStream(trigger: boolean) {\n  const url = trigger ? \"/api/portfolio-analysis-stream\" : null;\n  return useStreamingAnalysis(url);\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;AAqDO;AAnDR;;;AAsBO,SAAS,qBACd,GAAkB;QAClB,UAAA,iEAA+B,CAAC;;IAEhC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAgB,EAAE;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAM;IAChD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAA4B,CAAC;IACzE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAS;IAE3D,IAAA,kNAAS;0CAAC;YACR,IAAI,CAAC,KAAK;YAEV,IAAI,cAAkC;YAEtC,MAAM;8DAAc;oBAClB,eAAe;oBACf,YAAY;oBACZ,gBAAgB;oBAChB,UAAU,EAAE;oBACZ,SAAS;oBACT,aAAa;oBACb,cAAc,CAAC;oBACf,iBAAiB;oBAEjB,MAAM,SAAS,AAAC,GAEb,OADD,6DAAmC,yBAC9B,OAAJ;oBACH,cAAc,IAAI,YAAY;oBAE9B,YAAY,SAAS;sEAAG,CAAC;4BACvB,IAAI;oCAMF,4BAA4B;gCAC5B;gCANA,MAAM,OAAoB,KAAK,KAAK,CAAC,MAAM,IAAI;gCAE/C,qBAAqB;gCACrB;kFAAU,CAAC,OAAS;+CAAI;4CAAM;yCAAK;;iCAGnC,mBAAA,QAAQ,OAAO,cAAf,uCAAA,sBAAA,SAAkB;gCAElB,8BAA8B;gCAC9B,OAAQ,KAAK,KAAK;oCAChB,KAAK;wCACH,YAAY;wCACZ,gBAAgB;wCAChB;oCAEF,KAAK;wCACH,gBAAgB,KAAK,KAAK;wCAC1B,YAAY,KAAK,QAAQ,IAAI;wCAC7B;oCAEF,KAAK;wCACH,IAAI,KAAK,KAAK,EAAE;4CACd;8FAAc,CAAC,OAAS,CAAC;wDACvB,GAAG,IAAI;wDACP,CAAC,KAAK,KAAK,CAAE,EAAE;4DACb,OAAO,KAAK,KAAK;4DACjB,MAAM;4DACN,YAAY;wDACd;oDACF,CAAC;;wCACH;wCACA;oCAEF,KAAK;wCACH,IAAI,KAAK,KAAK,IAAI,KAAK,KAAK,EAAE;4CAC5B;8FAAc,CAAC;wDAIJ;2DAJc;wDACvB,GAAG,IAAI;wDACP,CAAC,KAAK,KAAK,CAAE,EAAE;4DACb,OAAO,KAAK,KAAK;4DACjB,MAAM,CAAC,EAAA,mBAAA,IAAI,CAAC,KAAK,KAAK,CAAE,cAAjB,uCAAA,iBAAmB,IAAI,KAAI,EAAE,IAAI,KAAK,KAAK;4DAClD,YAAY;wDACd;oDACF;;;4CAEA,gDAAgD;4CAChD,IAAI,KAAK,KAAK,KAAK,0BAA0B;gDAC3C;kGAAiB,CAAC,OAAS,OAAO,KAAK,KAAK;;4CAC9C;wCACF;wCACA;oCAEF,KAAK;wCACH,IAAI,KAAK,KAAK,EAAE;4CACd;8FAAc,CAAC,OAAS,CAAC;wDACvB,GAAG,IAAI;wDACP,CAAC,KAAK,KAAK,CAAE,EAAE;4DACb,GAAG,IAAI,CAAC,KAAK,KAAK,CAAE;4DACpB,YAAY;wDACd;oDACF,CAAC;;wCACH;wCACA;oCAEF,KAAK;wCACH,YAAY,KAAK,QAAQ,IAAI;wCAC7B;oCAEF,KAAK;wCACH,gBAAgB;wCAChB,YAAY;wCACZ,iBAAiB;wCACjB;oCAEF,KAAK;4CAIH;wCAHA,YAAY;wCACZ,aAAa;wCACb,eAAe;yCACf,sBAAA,QAAQ,UAAU,cAAlB,0CAAA,yBAAA,SAAqB;wCACrB,wBAAA,kCAAA,YAAa,KAAK;wCAClB;oCAEF,KAAK;4CAGH;wCAFA,SAAS,KAAK,OAAO,IAAI;wCACzB,eAAe;yCACf,mBAAA,QAAQ,OAAO,cAAf,uCAAA,sBAAA,SAAkB,KAAK,OAAO,IAAI;wCAClC,wBAAA,kCAAA,YAAa,KAAK;wCAClB;gCACJ;4BACF,EAAE,OAAO,KAAK;gCACZ,QAAQ,KAAK,CAAC,4BAA4B;4BAC5C;wBACF;;oBAEA,YAAY,OAAO;sEAAG,CAAC;gCAIrB;4BAHA,QAAQ,KAAK,CAAC,sBAAsB;4BACpC,SAAS;4BACT,eAAe;6BACf,mBAAA,QAAQ,OAAO,cAAf,uCAAA,sBAAA,SAAkB;4BAClB,wBAAA,kCAAA,YAAa,KAAK;wBACpB;;gBACF;;YAEA;YAEA,UAAU;YACV;kDAAO;oBACL,wBAAA,kCAAA,YAAa,KAAK;oBAClB,eAAe;gBACjB;;QACF;yCAAG;QAAC;KAAI;IAER,MAAM,QAAQ,IAAA,oNAAW;mDAAC;YACxB,eAAe;YACf,YAAY;YACZ,gBAAgB;YAChB,UAAU,EAAE;YACZ,SAAS;YACT,aAAa;YACb,cAAc,CAAC;YACf,iBAAiB;QACnB;kDAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;GAxKgB;AA6KT,SAAS,uBAAuB,MAAqB;;IAC1D,MAAM,MAAM,SAAS,AAAC,6BAAmC,OAAP,UAAW;IAC7D,OAAO,qBAAqB;AAC9B;IAHgB;;QAEP;;;AAMF,SAAS,2BAA2B,MAAqB;;IAC9D,MAAM,MAAM,SAAS,AAAC,kCAAwC,OAAP,UAAW;IAClE,OAAO,qBAAqB;AAC9B;IAHgB;;QAEP;;;AAMF,SAAS,sBAAsB,OAAgB;;IACpD,MAAM,MAAM,UAAU,8BAA8B;IACpD,OAAO,qBAAqB;AAC9B;IAHgB;;QAEP;;;AAMF,SAAS,2BAA2B,OAAgB;;IACzD,MAAM,MAAM,UAAU,mCAAmC;IACzD,OAAO,qBAAqB;AAC9B;IAHgB;;QAEP","debugId":null}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/MikeyW/true-north-trading/frontend/src/components/StreamingMarkdown.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * StreamingMarkdown Component\n * Renders markdown with proper styling and a typing cursor effect\n */\n\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\n\ninterface StreamingMarkdownProps {\n  content: string;\n  isStreaming?: boolean;\n  className?: string;\n}\n\nexport default function StreamingMarkdown({\n  content,\n  isStreaming = false,\n  className = \"\",\n}: StreamingMarkdownProps) {\n  return (\n    <div className={`prose prose-sm dark:prose-invert max-w-none ${className}`}>\n      <ReactMarkdown\n        remarkPlugins={[remarkGfm]}\n        components={{\n          // Headings with improved dark mode\n          h1: ({ children }) => (\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100 mt-6 mb-4 border-b-2 border-blue-500 pb-2\">\n              {children}\n            </h1>\n          ),\n          h2: ({ children }) => (\n            <h2 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 mt-5 mb-3\">\n              {children}\n            </h2>\n          ),\n          h3: ({ children }) => (\n            <h3 className=\"text-lg font-semibold text-gray-800 dark:text-gray-200 mt-4 mb-2\">\n              {children}\n            </h3>\n          ),\n\n          // Paragraphs with dark mode\n          p: ({ children }) => (\n            <p className=\"text-gray-700 dark:text-gray-300 leading-relaxed mb-3\">\n              {children}\n            </p>\n          ),\n\n          // Lists with dark mode\n          ul: ({ children }) => (\n            <ul className=\"list-disc list-inside space-y-2 mb-4 ml-4 text-gray-700 dark:text-gray-300\">\n              {children}\n            </ul>\n          ),\n          ol: ({ children }) => (\n            <ol className=\"list-decimal list-inside space-y-2 mb-4 ml-4 text-gray-700 dark:text-gray-300\">\n              {children}\n            </ol>\n          ),\n          li: ({ children }) => (\n            <li className=\"ml-2 leading-relaxed\">{children}</li>\n          ),\n\n          // Code blocks with improved dark mode\n          code: ({ className, children }) => {\n            const isInline = !className;\n            return isInline ? (\n              <code className=\"bg-gray-100 dark:bg-gray-800 text-pink-600 dark:text-pink-400 px-1.5 py-0.5 rounded text-sm font-mono\">\n                {children}\n              </code>\n            ) : (\n              <code className=\"block bg-gray-900 dark:bg-gray-950 text-gray-100 p-4 rounded-lg text-sm font-mono overflow-x-auto mb-4\">\n                {children}\n              </code>\n            );\n          },\n\n          // Blockquotes with improved styling\n          blockquote: ({ children }) => (\n            <blockquote className=\"border-l-4 border-blue-500 bg-blue-50 dark:bg-blue-900/20 pl-4 py-2 italic text-gray-700 dark:text-gray-300 my-4 rounded-r\">\n              {children}\n            </blockquote>\n          ),\n\n          // Links with improved styling\n          a: ({ href, children }) => (\n            <a\n              href={href}\n              className=\"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 underline font-medium transition-colors\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {children}\n            </a>\n          ),\n\n          // Tables with dark mode\n          table: ({ children }) => (\n            <div className=\"overflow-x-auto mb-4 rounded-lg border border-gray-200 dark:border-gray-700\">\n              <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n                {children}\n              </table>\n            </div>\n          ),\n          thead: ({ children }) => (\n            <thead className=\"bg-gray-50 dark:bg-gray-800\">{children}</thead>\n          ),\n          tbody: ({ children }) => (\n            <tbody className=\"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\">\n              {children}\n            </tbody>\n          ),\n          tr: ({ children }) => <tr>{children}</tr>,\n          th: ({ children }) => (\n            <th className=\"px-4 py-2 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider\">\n              {children}\n            </th>\n          ),\n          td: ({ children }) => (\n            <td className=\"px-4 py-2 text-sm text-gray-700 dark:text-gray-300\">\n              {children}\n            </td>\n          ),\n\n          // Strong/Bold with dark mode\n          strong: ({ children }) => (\n            <strong className=\"font-bold text-gray-900 dark:text-gray-100\">\n              {children}\n            </strong>\n          ),\n\n          // Emphasis/Italic with dark mode\n          em: ({ children }) => (\n            <em className=\"italic text-gray-700 dark:text-gray-300\">\n              {children}\n            </em>\n          ),\n\n          // Horizontal rule with dark mode\n          hr: () => (\n            <hr className=\"my-6 border-t border-gray-300 dark:border-gray-700\" />\n          ),\n        }}\n      >\n        {content}\n      </ReactMarkdown>\n\n      {/* Typing cursor when streaming */}\n      {isStreaming && (\n        <span className=\"inline-block w-2 h-5 bg-blue-600 ml-1 animate-pulse\"></span>\n      )}\n    </div>\n  );\n}\n\n/**\n * Compact version for smaller spaces\n */\nexport function StreamingMarkdownCompact({\n  content,\n  isStreaming = false,\n  className = \"\",\n}: StreamingMarkdownProps) {\n  return (\n    <div className={`text-sm ${className}`}>\n      <ReactMarkdown\n        remarkPlugins={[remarkGfm]}\n        components={{\n          h1: ({ children }) => (\n            <h1 className=\"text-lg font-bold text-gray-900 mb-2\">{children}</h1>\n          ),\n          h2: ({ children }) => (\n            <h2 className=\"text-base font-bold text-gray-900 mb-2\">\n              {children}\n            </h2>\n          ),\n          h3: ({ children }) => (\n            <h3 className=\"text-sm font-semibold text-gray-800 mb-1\">\n              {children}\n            </h3>\n          ),\n          p: ({ children }) => (\n            <p className=\"text-gray-700 leading-relaxed mb-2\">{children}</p>\n          ),\n          ul: ({ children }) => (\n            <ul className=\"list-disc list-inside space-y-1 mb-2 text-gray-700\">\n              {children}\n            </ul>\n          ),\n          code: ({ className, children }) => {\n            const isInline = !className;\n            return isInline ? (\n              <code className=\"bg-gray-100 text-red-600 px-1 py-0.5 rounded text-xs font-mono\">\n                {children}\n              </code>\n            ) : (\n              <code className=\"block bg-gray-900 text-gray-100 p-2 rounded text-xs font-mono overflow-x-auto mb-2\">\n                {children}\n              </code>\n            );\n          },\n        }}\n      >\n        {content}\n      </ReactMarkdown>\n\n      {isStreaming && (\n        <span className=\"inline-block w-1.5 h-4 bg-blue-600 ml-1 animate-pulse\"></span>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 644, "column": 0}, "map": {"version":3,"sources":["file:///Users/MikeyW/true-north-trading/frontend/src/components/StreamingProgress.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * StreamingProgress Component\n * Visual indicator for streaming multi-agent analysis\n */\n\nimport { CheckCircleIcon, ArrowPathIcon } from \"@heroicons/react/24/solid\";\n\ninterface Agent {\n  name: string;\n  status: \"pending\" | \"active\" | \"complete\";\n  color: string;\n}\n\ninterface StreamingProgressProps {\n  progress: number;\n  currentAgent: string | null;\n  agents?: string[];\n}\n\nconst DEFAULT_AGENTS = [\n  { name: \"Market Analyst\", color: \"blue\" },\n  { name: \"Social Analyst\", color: \"green\" },\n  { name: \"News Analyst\", color: \"purple\" },\n  { name: \"Fundamentals Analyst\", color: \"orange\" },\n];\n\nconst COLOR_MAP: Record<\n  string,\n  { bg: string; text: string; progress: string }\n> = {\n  blue: {\n    bg: \"bg-blue-100\",\n    text: \"text-blue-600\",\n    progress: \"bg-blue-600\",\n  },\n  green: {\n    bg: \"bg-green-100\",\n    text: \"text-green-600\",\n    progress: \"bg-green-600\",\n  },\n  purple: {\n    bg: \"bg-purple-100\",\n    text: \"text-purple-600\",\n    progress: \"bg-purple-600\",\n  },\n  orange: {\n    bg: \"bg-orange-100\",\n    text: \"text-orange-600\",\n    progress: \"bg-orange-600\",\n  },\n};\n\nexport default function StreamingProgress({\n  progress,\n  currentAgent,\n  agents = DEFAULT_AGENTS.map((a) => a.name),\n}: StreamingProgressProps) {\n  const agentConfigs = DEFAULT_AGENTS.slice(0, agents.length);\n\n  const getAgentStatus = (\n    agentName: string\n  ): \"pending\" | \"active\" | \"complete\" => {\n    const currentIndex = agents.indexOf(currentAgent || \"\");\n    const agentIndex = agents.indexOf(agentName);\n\n    if (agentIndex < currentIndex || progress >= 100) return \"complete\";\n    if (agentIndex === currentIndex) return \"active\";\n    return \"pending\";\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-8\">\n      {/* Header */}\n      <div className=\"flex items-center justify-center space-x-3 mb-6\">\n        <div className=\"relative\">\n          <div className=\"h-12 w-12 rounded-full border-4 border-blue-200 border-t-blue-600 animate-spin\"></div>\n        </div>\n        <div className=\"text-center\">\n          <p className=\"text-lg font-semibold text-gray-900\">\n            Multi-Agent Analysis in Progress\n          </p>\n          <p className=\"text-sm text-gray-600\">\n            {currentAgent ? `${currentAgent} analyzing...` : \"Starting...\"}\n          </p>\n        </div>\n      </div>\n\n      {/* Overall Progress Bar */}\n      <div className=\"mb-6\">\n        <div className=\"flex justify-between text-sm text-gray-600 mb-2\">\n          <span>Overall Progress</span>\n          <span className=\"font-semibold\">{Math.round(progress)}%</span>\n        </div>\n        <div className=\"h-3 bg-gray-200 rounded-full overflow-hidden\">\n          <div\n            className=\"h-full bg-blue-600 rounded-full transition-all duration-500 ease-out\"\n            style={{ width: `${progress}%` }}\n          ></div>\n        </div>\n      </div>\n\n      {/* Agent List */}\n      <div className=\"space-y-3\">\n        {agentConfigs.map((agent, index) => {\n          const agentName = agents[index] || agent.name;\n          const status = getAgentStatus(agentName);\n          const colors = COLOR_MAP[agent.color];\n\n          return (\n            <div\n              key={agentName}\n              className={`flex items-center space-x-3 p-3 rounded-lg transition-all duration-300 ${\n                status === \"active\" ? colors.bg : \"bg-gray-50\"\n              }`}\n            >\n              {/* Status Icon */}\n              <div className=\"flex-shrink-0\">\n                {status === \"complete\" ? (\n                  <CheckCircleIcon className={`h-6 w-6 ${colors.text}`} />\n                ) : status === \"active\" ? (\n                  <ArrowPathIcon\n                    className={`h-6 w-6 ${colors.text} animate-spin`}\n                  />\n                ) : (\n                  <div className=\"h-6 w-6 rounded-full border-2 border-gray-300\"></div>\n                )}\n              </div>\n\n              {/* Agent Name */}\n              <span\n                className={`flex-1 font-medium ${\n                  status === \"active\" ? colors.text : \"text-gray-600\"\n                }`}\n              >\n                {agentName}\n              </span>\n\n              {/* Progress Indicator */}\n              {status === \"active\" && (\n                <div className=\"flex-shrink-0 flex items-center space-x-2\">\n                  <div className=\"flex space-x-1\">\n                    <div\n                      className={`h-2 w-2 ${colors.progress} rounded-full animate-pulse`}\n                      style={{ animationDelay: \"0ms\" }}\n                    ></div>\n                    <div\n                      className={`h-2 w-2 ${colors.progress} rounded-full animate-pulse`}\n                      style={{ animationDelay: \"150ms\" }}\n                    ></div>\n                    <div\n                      className={`h-2 w-2 ${colors.progress} rounded-full animate-pulse`}\n                      style={{ animationDelay: \"300ms\" }}\n                    ></div>\n                  </div>\n                </div>\n              )}\n\n              {status === \"complete\" && (\n                <span className=\"flex-shrink-0 text-xs text-gray-500\">\n                  ✓ Complete\n                </span>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Footer */}\n      <div className=\"mt-6 text-center text-xs text-gray-500\">\n        <p>This typically takes 30-60 seconds</p>\n        <p className=\"mt-1\">\n          Results will appear progressively as each agent completes\n        </p>\n      </div>\n    </div>\n  );\n}\n\n/**\n * Compact version for smaller spaces\n */\nexport function StreamingProgressCompact({\n  progress,\n  currentAgent,\n}: {\n  progress: number;\n  currentAgent: string | null;\n}) {\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-4\">\n      <div className=\"flex items-center space-x-3 mb-3\">\n        <ArrowPathIcon className=\"h-5 w-5 text-blue-600 animate-spin\" />\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-medium text-gray-900\">Analyzing...</p>\n          <p className=\"text-xs text-gray-500\">{currentAgent || \"Starting\"}</p>\n        </div>\n        <span className=\"text-sm font-semibold text-gray-600\">\n          {Math.round(progress)}%\n        </span>\n      </div>\n      <div className=\"h-2 bg-gray-200 rounded-full overflow-hidden\">\n        <div\n          className=\"h-full bg-blue-600 rounded-full transition-all duration-500\"\n          style={{ width: `${progress}%` }}\n        ></div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1046, "column": 0}, "map": {"version":3,"sources":["file:///Users/MikeyW/true-north-trading/frontend/src/app/analyze/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  MagnifyingGlassIcon,\n  ChartBarIcon,\n  UserGroupIcon,\n  NewspaperIcon,\n  CalculatorIcon,\n  ArrowPathIcon,\n  CheckCircleIcon,\n  SparklesIcon,\n} from \"@heroicons/react/24/outline\";\nimport { motion } from \"framer-motion\";\nimport { useStockAnalysisStreamText } from \"@/lib/useStreamingAnalysis\";\nimport StreamingMarkdown from \"@/components/StreamingMarkdown\";\nimport StreamingProgress from \"@/components/StreamingProgress\";\n\nconst agentIcons: Record<string, any> = {\n  \"Market Analyst\": ChartBarIcon,\n  \"Social Analyst\": UserGroupIcon,\n  \"News Analyst\": NewspaperIcon,\n  \"Fundamentals Analyst\": CalculatorIcon,\n  \"Investment Synthesizer\": SparklesIcon,\n};\n\nconst agentColors: Record<string, string> = {\n  \"Market Analyst\": \"border-blue-500 bg-blue-50\",\n  \"Social Analyst\": \"border-green-500 bg-green-50\",\n  \"News Analyst\": \"border-purple-500 bg-purple-50\",\n  \"Fundamentals Analyst\": \"border-orange-500 bg-orange-50\",\n  \"Investment Synthesizer\": \"border-indigo-500 bg-indigo-50\",\n};\n\nexport default function StockAnalysisPage() {\n  const [inputSymbol, setInputSymbol] = useState(\"\");\n  const [symbol, setSymbol] = useState<string | null>(null);\n\n  const {\n    isStreaming,\n    progress,\n    currentAgent,\n    agentTexts,\n    synthesisText,\n    finalData,\n    error,\n  } = useStockAnalysisStreamText(symbol);\n\n  const startAnalysis = () => {\n    if (!inputSymbol.trim()) return;\n    setSymbol(inputSymbol.toUpperCase());\n  };\n\n  const getRecommendationStyle = (rec: string) => {\n    switch (rec?.toUpperCase()) {\n      case \"BUY\":\n      case \"STRONG_BUY\":\n        return \"bg-green-500 text-white\";\n      case \"SELL\":\n      case \"STRONG_SELL\":\n        return \"bg-red-500 text-white\";\n      case \"HOLD\":\n        return \"bg-yellow-500 text-white\";\n      default:\n        return \"bg-gray-500 text-white\";\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-8\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"mb-8\"\n        >\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">\n            📊 Multi-Agent Stock Analysis\n          </h1>\n          <p className=\"text-gray-600 text-lg\">\n            Watch AI agents analyze stocks in real-time with streaming text\n          </p>\n        </motion.div>\n\n        {/* Search Input */}\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.1 }}\n          className=\"bg-white rounded-2xl shadow-lg p-6 mb-8\"\n        >\n          <div className=\"flex gap-4\">\n            <div className=\"flex-1 relative\">\n              <MagnifyingGlassIcon className=\"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n              <input\n                type=\"text\"\n                value={inputSymbol}\n                onChange={(e) => setInputSymbol(e.target.value.toUpperCase())}\n                onKeyPress={(e) => e.key === \"Enter\" && startAnalysis()}\n                placeholder=\"Enter stock symbol (e.g., AAPL, MSFT, GOOGL)\"\n                className=\"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-xl text-lg focus:border-blue-500 focus:outline-none transition-colors\"\n                disabled={isStreaming}\n              />\n            </div>\n            <button\n              onClick={startAnalysis}\n              disabled={isStreaming || !inputSymbol.trim()}\n              className=\"px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 active:scale-95 shadow-lg\"\n            >\n              {isStreaming ? (\n                <div className=\"flex items-center gap-2\">\n                  <ArrowPathIcon className=\"h-5 w-5 animate-spin\" />\n                  Analyzing...\n                </div>\n              ) : (\n                \"Analyze\"\n              )}\n            </button>\n          </div>\n        </motion.div>\n\n        {/* Progress Bar */}\n        {isStreaming && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            className=\"mb-8\"\n          >\n            <StreamingProgress\n              progress={progress}\n              currentAgent={currentAgent}\n              agents={Object.keys(agentTexts)}\n            />\n          </motion.div>\n        )}\n\n        {/* Error */}\n        {error && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            className=\"bg-red-50 border-2 border-red-200 rounded-xl p-6 mb-8\"\n          >\n            <p className=\"text-red-600 font-medium\">❌ {error}</p>\n          </motion.div>\n        )}\n\n        {/* Agent Analysis Cards - Streaming */}\n        {Object.keys(agentTexts).length > 0 && (\n          <div className=\"space-y-6 mb-8\">\n            {Object.entries(agentTexts).map(([agentName, data], index) => {\n              const Icon = agentIcons[agentName] || ChartBarIcon;\n              const colorClass =\n                agentColors[agentName] || \"border-gray-500 bg-gray-50\";\n\n              return (\n                <motion.div\n                  key={agentName}\n                  initial={{ opacity: 0, y: 20 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: index * 0.1 }}\n                  className={`bg-white rounded-2xl shadow-lg border-l-4 ${colorClass} overflow-hidden`}\n                >\n                  <div className=\"p-6\">\n                    {/* Agent Header */}\n                    <div className=\"flex items-center justify-between mb-4 pb-4 border-b border-gray-200\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className={`p-2 rounded-lg ${colorClass}`}>\n                          <Icon className=\"h-6 w-6\" />\n                        </div>\n                        <div>\n                          <h3 className=\"text-xl font-bold text-gray-900\">\n                            {agentName}\n                          </h3>\n                          <p className=\"text-sm text-gray-500\">\n                            {data.isComplete\n                              ? \"Analysis complete\"\n                              : \"Analyzing...\"}\n                          </p>\n                        </div>\n                      </div>\n                      {data.isComplete && (\n                        <CheckCircleIcon className=\"h-8 w-8 text-green-500\" />\n                      )}\n                    </div>\n\n                    {/* Streaming Text with Markdown */}\n                    <StreamingMarkdown\n                      content={data.text}\n                      isStreaming={!data.isComplete}\n                      className=\"min-h-[100px]\"\n                    />\n                  </div>\n                </motion.div>\n              );\n            })}\n          </div>\n        )}\n\n        {/* Synthesis Section */}\n        {synthesisText && (\n          <motion.div\n            initial={{ opacity: 0, y: 20 }}\n            animate={{ opacity: 1, y: 0 }}\n            className=\"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl shadow-lg border-2 border-indigo-300 p-8 mb-8\"\n          >\n            <div className=\"flex items-center gap-3 mb-6\">\n              <div className=\"p-3 bg-indigo-100 rounded-lg\">\n                <SparklesIcon className=\"h-8 w-8 text-indigo-600\" />\n              </div>\n              <div>\n                <h2 className=\"text-2xl font-bold text-indigo-900\">\n                  Investment Synthesis\n                </h2>\n                <p className=\"text-indigo-600\">\n                  Final recommendation based on all agent analyses\n                </p>\n              </div>\n            </div>\n\n            <StreamingMarkdown\n              content={synthesisText}\n              isStreaming={isStreaming && currentAgent === \"Synthesis\"}\n              className=\"bg-white rounded-xl p-6\"\n            />\n          </motion.div>\n        )}\n\n        {/* Final Results */}\n        {finalData && (\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ delay: 0.2 }}\n            className={`rounded-2xl shadow-2xl p-8 ${getRecommendationStyle(\n              finalData.recommendation\n            )}`}\n          >\n            <div className=\"flex items-center justify-between mb-6\">\n              <div>\n                <h2 className=\"text-3xl font-bold mb-2\">\n                  Final Recommendation: {finalData.recommendation}\n                </h2>\n                <p className=\"text-xl opacity-90\">\n                  Confidence: {(finalData.confidence * 100).toFixed(1)}%\n                </p>\n              </div>\n              <CheckCircleIcon className=\"h-16 w-16\" />\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"bg-white/20 backdrop-blur rounded-xl p-4\">\n                <p className=\"text-sm opacity-90 mb-1\">Current Price</p>\n                <p className=\"text-2xl font-bold\">\n                  ${finalData.current_price?.toFixed(2) || \"N/A\"}\n                </p>\n              </div>\n              <div className=\"bg-white/20 backdrop-blur rounded-xl p-4\">\n                <p className=\"text-sm opacity-90 mb-1\">Target Price</p>\n                <p className=\"text-2xl font-bold\">\n                  ${finalData.target_price?.toFixed(2)}\n                </p>\n              </div>\n              <div className=\"bg-white/20 backdrop-blur rounded-xl p-4\">\n                <p className=\"text-sm opacity-90 mb-1\">Stop Loss</p>\n                <p className=\"text-2xl font-bold\">\n                  ${finalData.stop_loss?.toFixed(2)}\n                </p>\n              </div>\n            </div>\n          </motion.div>\n        )}\n\n        {/* Empty State */}\n        {!isStreaming && !finalData && !error && symbol === null && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.2 }}\n            className=\"text-center py-20\"\n          >\n            <ChartBarIcon className=\"h-24 w-24 text-gray-300 mx-auto mb-6\" />\n            <h3 className=\"text-2xl font-semibold text-gray-600 mb-3\">\n              Enter a stock symbol to begin analysis\n            </h3>\n            <p className=\"text-gray-500\">\n              Watch 4 AI agents analyze stocks with streaming text in real-time\n            </p>\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}